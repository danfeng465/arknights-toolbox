(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app.material"],{"072a":function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var n=a("5530"),i=(a("07ac"),a("60bb")),s=a.n(i),r=a("6a80"),o=s.a.mapValues(r,(function(t,e){return Object(n["a"])({name:e},t)}));Object.values(o);e["b"]={characterTable:o,characterList:Object.values(o)}},"2f6b":function(t,e,a){"use strict";a("8293")},"3d2f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"arkn-material"}},[a("div",{staticClass:"mdui-row"},[a("div",{staticClass:"mdui-col-xs-12"},[a("table",{staticClass:"mdui-table tag-table"},[a("tbody",[a("tr",[t.$root.smallScreen?t._e():a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[t._v(t._s(t.$t("cultivate.panel.rarity")))])]),a("td",{staticClass:"mobile-screen-flex-box tag-btn-wrap"},[t.$root.smallScreen?a("label",{staticClass:"mdui-textfield-label flex-full"},[t._v(t._s(t.$t("cultivate.panel.rarity")))]):t._e(),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.allRare?t.color.selected:t.color.notSelected,expression:"allRare ? color.selected : color.notSelected"}],staticClass:"mdui-btn mdui-btn-dense mdui-ripple tag-btn",on:{click:function(e){t.selected.rare=t.$_.fill(Array(t.selected.rare.length),!t.allRare)}}},[t._v(t._s(t.$t("common.selectAllShorten")))]),t._l(t.rareArr,(function(e){return a("tag-button",{key:"rare-"+e,staticClass:"num-btn",attrs:{notSelectedColor:t.color.notSelected,selectedColor:t.color[e]},model:{value:t.selected.rare[e-1],callback:function(a){t.$set(t.selected.rare,e-1,a)},expression:"selected.rare[i - 1]"}},[t._v(t._s(e))])})),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.redBtn,expression:"$root.color.redBtn"}],staticClass:"mdui-btn mdui-btn-dense mdui-color-red tag-btn",on:{click:t.resetSelectedRare}},[t._v(t._s(t.$t("common.reset")))])],2)]),a("tr",[t.$root.smallScreen?t._e():a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[t._v(t._s(t.$t("common.preset")))])]),a("td",[t.$root.smallScreen?a("label",{staticClass:"mdui-textfield-label"},[t._v(t._s(t.$t("common.preset")))]):t._e(),a("vue-tags-input",{ref:"presetInput",staticClass:"tags-input",class:{empty:0===t.preset.length},attrs:{id:"preset",tags:t.selected.presets,"allow-edit-tags":!1,"add-from-paste":!1,"add-on-blur":!1,"autocomplete-items":t.presetItems,"add-only-from-autocomplete":!0,"autocomplete-always-open":!0,placeholder:t.$t("cultivate.panel.preset.placeholder"),autocomplete:"off"},on:{"tags-changed":t.usePreset,"before-adding-tag":function(e){return t.showPreset(e)}},scopedSlots:t._u([{key:"autocomplete-item",fn:function(e){return a("div",{staticClass:"mdui-list-item mdui-p-y-0 mdui-p-x-1",on:{click:function(t){return e.performAdd(e.item)}}},[a("div",{staticClass:"mdui-list-item-avatar"},[a("avatar",{key:"head-"+e.item.text,staticClass:"no-pe",attrs:{name:e.item.name}})],1),a("div",{staticClass:"mdui-list-item-content mdui-p-y-0 mdui-m-l-1"},[t._v(t._s(e.item.text))])])}},{key:"tag-center",fn:function(e){return a("span",{staticClass:"no-sl",on:{click:function(a){return t.showPreset(e,!0)}}},[t._v(t._s(e.tag.text))])}}]),model:{value:t.preset,callback:function(e){t.preset=e},expression:"preset"}})],1)]),a("tr",[t.$root.smallScreen?t._e():a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[t._v(t._s(t.$t("common.todo")))])]),a("td",[t.$root.smallScreen?a("label",{staticClass:"mdui-textfield-label"},[t._v(t._s(t.$t("common.todo")))]):t._e(),t.selected.presets.length?t._e():a("span",{staticClass:"mdui-text-color-theme-secondary mdui-p-x-1 font-size-14 no-sl"},[t._v(t._s(t.$t("common.none")))]),t._l(t.selected.presets,(function(e,n){return a("div",{key:e.name,staticClass:"mdui-chip no-bs mdui-m-r-1",class:{"opacity-5":!t.$root.isImplementedChar(e.name)},on:{click:function(a){return t.$refs.presetTodoDialog.showTodoPreset({tag:e,index:n})}}},[a("avatar",{staticClass:"mdui-chip-icon",attrs:{name:e.name}}),a("span",{staticClass:"mdui-chip-title"},[t._v(t._s(e.text))])],1)}))],2)]),a("tr",[t.$root.smallScreen?t._e():a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[t._v(t._s(t.$t("common.setting")))])]),a("td",[a("mdui-switch",{model:{value:t.setting.simpleMode,callback:function(e){t.$set(t.setting,"simpleMode",e)},expression:"setting.simpleMode"}},[t._v(t._s(t.$t("cultivate.setting.simpleMode")))]),a("mdui-switch",{directives:[{name:"show",rawName:"v-show",value:t.setting.simpleMode,expression:"setting.simpleMode"}],model:{value:t.setting.simpleModeOrderedByRareFirst,callback:function(e){t.$set(t.setting,"simpleModeOrderedByRareFirst",e)},expression:"setting.simpleModeOrderedByRareFirst"}},[t._v(t._s(t.$t("cultivate.setting.simpleModeOrderedByRareFirst")))]),t._l(t.settingList[0],(function(e){return a("mdui-switch",{key:e,model:{value:t.setting[e],callback:function(a){t.$set(t.setting,e,a)},expression:"setting[key]"}},[t._v(t._s(t.$t("cultivate.setting."+e)))])})),t.$root.localeCN?a("mdui-switch",{model:{value:t.setting.penguinUseCnServer,callback:function(e){t.$set(t.setting,"penguinUseCnServer",e)},expression:"setting.penguinUseCnServer"}},[a("span",{attrs:{"mdui-tooltip":"{content:'可能反而会更慢，请酌情使用',position:'top'}"}},[t._v(t._s(t.$t("cultivate.setting.penguinUseCnServer")))])]):t._e()],2)]),a("tr",[t.$root.smallScreen?t._e():a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[t._v(t._s(t.$t("common.option")))])]),a("td",{staticClass:"mobile-screen-flex-box tag-btn-wrap"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.redBtn,expression:"$root.color.redBtn"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn",on:{click:function(e){return t.reset()}}},[t._v(t._s(t.$t("cultivate.panel.button.resetAll")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.redBtn,expression:"$root.color.redBtn"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn",on:{click:function(e){return t.reset("need")}}},[t._v(t._s(t.$t("cultivate.panel.button.resetNeed")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.redBtn,expression:"$root.color.redBtn"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn",on:{click:function(e){return t.reset("have")}}},[t._v(t._s(t.$t("cultivate.panel.button.resetOwned")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-blue-600","mdui-color-blue-a100 mdui-ripple-black"],expression:"['mdui-color-blue-600', 'mdui-color-blue-a100 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn",on:{click:function(e){return t.$refs.dataSyncDialog.open()}}},[a("i",{staticClass:"mdui-icon material-icons"},[t._v("cloud")]),t._v(" "+t._s(t.$t("cultivate.panel.button.cloudSync")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-pink","mdui-color-pink-a100 mdui-ripple-black"],expression:"['mdui-color-pink', 'mdui-color-pink-a100 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn",on:{click:t.resetPenguinData}},[t._v(t._s(t.$t("cultivate.panel.button.forceUpdate")))]),a("button",{directives:[{name:"show",rawName:"v-show",value:t.$_.size(t.highlightCost),expression:"$_.size(highlightCost)"},{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkBtn,expression:"$root.color.pinkBtn"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn",on:{click:function(e){t.highlightCost={}}}},[t._v(t._s(t.$t("cultivate.panel.button.clearHighlight")))])])]),a("tr",[t.$root.smallScreen?t._e():a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[t._v(t._s(t.$t("common.planner")))])]),a("td",{staticClass:"mobile-screen-flex-box tag-btn-wrap"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-purple","mdui-color-purple-a100 mdui-ripple-black"],expression:"['mdui-color-purple', 'mdui-color-purple-a100 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn btn-group-left",attrs:{id:"ark-planner-btn",disabled:t.apbDisabled},on:{click:function(e){t.apbDisabled=!0,t.initPlanner().then((function(){t.showPlan(),t.apbDisabled=!1}))}}},[t._v(t._s(t.$t("cultivate.panel.button.farmCalculation")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-purple","mdui-color-purple-a100 mdui-ripple-black"],expression:"['mdui-color-purple', 'mdui-color-purple-a100 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn btn-group-right no-grow",attrs:{disabled:t.apbDisabled},on:{click:function(e){return t.$refs.planSettingDialog.open()}}},[a("i",{staticClass:"mdui-icon material-icons"},[t._v("settings")])])])])])])]),a("div",{staticClass:"mdui-col-xs-12"},[a("div",{staticClass:"mdui-panel mdui-panel-gapless mdui-m-t-2",attrs:{"mdui-panel":""}},[a("div",{staticClass:"mdui-panel-item"},[a("div",{staticClass:"mdui-panel-item-header"},[a("div",{staticClass:"mdui-panel-item-title"},[t._v(t._s(t.$t("common.guide")))]),a("i",{staticClass:"mdui-panel-item-arrow mdui-icon material-icons"},[t._v("keyboard_arrow_down")])]),a("div",{staticClass:"mdui-panel-item-body mdui-p-l-0"},[a("cultivate-guide")],1)])])])]),a("div",{staticClass:"mdui-row",class:{rendering:t.$root.materialListRendering},attrs:{id:"material-main"}},[t.setting.simpleMode?a("div",{staticClass:"mdui-col-xs-12 mdui-m-t-4",attrs:{id:"material-simple"}},[a("transition-group",{staticClass:"material-group-wrap",attrs:{tag:"div",name:"material-group-wrap-transition"},on:{"before-leave":t.$root.transitionBeforeLeave,"after-leave":t.$root.transitionAfterLeaveBeforeEnter}},[t._l(t.setting.simpleModeOrderedByRareFirst?t.materialRareFirstOrder:t.materialOrder,(function(e){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.showMaterialsFlatten.has(e)&&t.$root.isImplementedMaterial(e),expression:"\n            showMaterialsFlatten.has(materialName) && $root.isImplementedMaterial(materialName)\n          "}],key:e+"-simple",staticClass:"material-simple-grid mdui-m-b-2 mdui-m-r-2"},[a("div",{staticClass:"mdui-card material material-simple",class:{"opacity-5":t.setting.translucentDisplay&&t.hasInput&&0==t.autoGaps[e][0],highlight:t.highlight[e]},attrs:{name:e,rare:t.materialTable[e].rare}},[a("div",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.color[t.materialTable[e].rare],expression:"color[materialTable[materialName].rare]"}],staticClass:"card-triangle-small"}),a("div",{staticClass:"mdui-card-header",attrs:{name:e}},[a("div",{staticClass:"mdui-card-header-avatar mdui-valign pointer no-sl",on:{click:function(a){return t.showDropDetail(t.materialTable[e])}}},[a("img",{staticClass:"material-image no-pe",attrs:{src:t.$root.materialImage(t.materialTable[e].name),crossorigin:"anonymous"},on:{error:t.handleImgErr}}),a("div",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.inputs[e].need>0?t.$root.color.pinkText:[],expression:"inputs[materialName].need > 0 ? $root.color.pinkText : []"}],staticClass:"material-simple-name mdui-text-truncate"},[t._v(t._s(t.$t("material."+e)))])]),a("div",{staticClass:"input-panel"},[a("mdui-number-input",{staticClass:"block mdui-m-b-1",attrs:{placeholder:t.$t("common.need")},model:{value:t.inputs[e].need,callback:function(a){t.$set(t.inputs[e],"need",a)},expression:"inputs[materialName].need"}}),a("mdui-number-input",{staticClass:"block mdui-m-b-1",attrs:{placeholder:t.$t("common.owned")},model:{value:t.inputs[e].have,callback:function(a){t.$set(t.inputs[e],"have",a)},expression:"inputs[materialName].have"}}),a("div",{staticClass:"gap block"},[a("span",{staticClass:"gap-num no-sl"},[t._v(t._s(t.autoGaps[e][0])),t.autoGaps[e][1]>0?a("small",[t._v("("+t._s(t.autoGaps[e][1])+")")]):t._e()])])],1)])])])})),t._l(6,(function(t){return a("div",{key:t,staticClass:"material-simple-grid mdui-m-r-2"})}))],2)],1):a("transition-group",{attrs:{id:"material-normal",tag:"div",name:"material-group-wrap-transition"},on:{"before-leave":t.$root.transitionBeforeLeave,"after-leave":t.$root.transitionAfterLeaveBeforeEnter,"before-enter":t.$root.transitionAfterLeaveBeforeEnter}},t._l(t.rareArr,(function(e){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.showMaterials[e].size>0,expression:"showMaterials[i].size > 0"}],key:"materials-"+e,staticClass:"mdui-col-xs-12"},[a("div",{staticClass:"mdui-typo rare-title"},[a("h2",[t._v(t._s(t.$t("common.rarity"))+" "+t._s(e)),t.moraleConsumption[e]?a("small",{staticClass:"mdui-m-l-2"},[t._v(t._s(t.$t("common.morale"))+" "+t._s(t.moraleText(t.moraleConsumption[e])))]):t._e()])]),a("transition-group",{staticClass:"material-group-wrap",attrs:{tag:"div",name:"material-group-wrap-transition"},on:{"before-leave":t.$root.transitionBeforeLeave,"after-leave":t.$root.transitionAfterLeaveBeforeEnter,"before-enter":t.$root.transitionAfterLeaveBeforeEnter}},[t._l(t.materials[e],(function(n){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.showMaterials[e].has(n.name)&&t.$root.isImplementedMaterial(n.name),expression:"\n              showMaterials[i].has(material.name) && $root.isImplementedMaterial(material.name)\n            "}],key:n.name,staticClass:"mdui-card material",class:{"mdui-p-b-2":t.$root.smallScreen,"mdui-m-b-2 mdui-m-r-2":!t.$root.smallScreen,"opacity-5":t.setting.translucentDisplay&&t.hasInput&&0==t.autoGaps[n.name][0],highlight:t.highlight[n.name]},attrs:{name:n.name,rare:n.rare}},[a("div",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.color[e],expression:"color[i]"}],staticClass:"card-triangle"}),a("div",{staticClass:"mdui-card-header",attrs:{"mdui-tooltip":!t.$root.smallScreen&&"{content:'"+t.madeofTooltips[n.name]+"',position:'top'}"}},[a("div",{staticClass:"mdui-card-header-avatar mdui-valign pointer no-sl",on:{click:function(e){return t.showDropDetail(t.materialTable[n.name])}}},[a("img",{staticClass:"material-image no-pe",attrs:{src:t.$root.materialImage(n.name),crossorigin:"anonymous"},on:{error:t.handleImgErr}})]),a("div",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.inputs[n.name].need>0?t.$root.color.pinkText:[],expression:"inputs[material.name].need > 0 ? $root.color.pinkText : []"}],staticClass:"mdui-card-header-title no-sl"},[a("div",{staticClass:"material-name-wrap mdui-valign"},[a("div",{staticClass:"mdui-text-truncate material-name"},[t._v(t._s(t.$t("material."+n.name)))]),t.showSyntBtn(n)?a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkText,expression:"$root.color.pinkText"}],staticClass:"\n                      synt-btn\n                      mdui-btn mdui-ripple mdui-btn-dense\n                      small-btn\n                      mdui-p-x-1 mdui-m-l-05\n                    ",on:{click:function(e){return t.synthesize(n.name,1)}}},[t._v(t._s(t.$t("common.synthesize"))+" 1")]):t._e(),t.showSyntBtn(n)?a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkText,expression:"$root.color.pinkText"}],staticClass:"\n                      synt-btn\n                      mdui-btn mdui-ripple mdui-btn-dense\n                      small-btn\n                      mdui-p-x-1 mdui-m-l-05\n                    ",on:{click:function(e){return t.synthesize(n.name)}}},[t._v(t._s(t.$t("common.synthesize"))+" all")]):t._e()]),t.$root.smallScreen?a("p",{staticClass:"\n                    material-made-of\n                    mdui-m-y-0 mdui-text-color-theme-disabled mdui-text-truncate\n                  "},[t._v(t._s(t.madeofTooltips[n.name]))]):t._e()]),a("div",{staticClass:"input-panel",class:{"mdui-m-t-1":!t.$root.smallScreen}},[a("mdui-number-input",{staticClass:"mdui-m-r-1",model:{value:t.inputs[n.name].need,callback:function(e){t.$set(t.inputs[n.name],"need",e)},expression:"inputs[material.name].need"}},[t._v(t._s(t.$t("common.need")))]),a("mdui-number-input",{staticClass:"mdui-m-r-1",model:{value:t.inputs[n.name].have,callback:function(e){t.$set(t.inputs[n.name],"have",e)},expression:"inputs[material.name].have"}},[t._v(t._s(t.$t("common.owned")))]),a("div",{staticClass:"gap"},[a("label",{staticClass:"mdui-textfield-label no-sl"},[t._v(t._s(t.$t("common.lack")))]),a("span",{staticClass:"gap-num no-sl"},[t._v(t._s(t.autoGaps[n.name][0])),t.autoGaps[n.name][1]>0?a("small",[t._v("("+t._s(t.autoGaps[n.name][1])+")")]):t._e()])]),t.$_.size(t.displayDropListByServer[n.name])>0?a("ul",{staticClass:"drop-list no-sl pointer",attrs:{length:t.$_.size(t.displayDropListByServer[n.name])},on:{click:function(e){return t.showDropDetail(n)},wheel:function(e){return e.preventDefault(),t.onDropListScroll(e)}}},t._l(t.displayDropListByServer[n.name],(function(e,i){var s=e.occPer,r=e.expectAP;return a("li",{key:n.name+"-"+i,staticClass:"drop-item"},[a("span",{staticClass:"code"},[t._v(t._s("synt"===i?t.$t("common.synthesize"):i))]),t.setting.showDropProbability&&t.plannerInited?a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.color[t.enumOccPer[s]],expression:"color[enumOccPer[occPer]]"}],staticClass:"probability"},[t._v(t._s(r?1e3>r?r.toPrecision(3):r.toFixed():"N/A")+"⚡")]):a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.color[t.enumOccPer[s]],expression:"color[enumOccPer[occPer]]"}],staticClass:"probability"},[t._v(t._s(t.$t("cultivate.occPer."+t.enumOccPer[s])))])])})),0):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$root.smallScreen&&t.$_.size(t.displayDropListByServer[n.name])>2,expression:"\n                    $root.smallScreen && $_.size(displayDropListByServer[material.name]) > 2\n                  "}],staticClass:"drop-list-more"},[t._v(">")])],1)])])})),t._l(2,(function(e){return a("div",{key:e,staticClass:"material",class:{"mdui-m-r-2":!t.$root.smallScreen}})}))],2)],1)})),0)],1),a("mdui-dialog",{ref:"presetDialog",staticClass:"mdui-card",attrs:{id:"preset-setting"},on:{closed:function(e){t.selectedPresetName=""}}},[t.sp?[a("div",{staticClass:"mdui-card-header mdui-p-b-0"},[a("avatar",{staticClass:"mdui-card-header-avatar mdui-color-grey-400 no-pe",attrs:{name:t.selectedPresetName}}),a("div",{staticClass:"mdui-card-header-title"},[t._v(t._s(t.$t("character."+t.selectedPresetName)))])],1),a("div",{staticClass:"mdui-card-content preset-list mdui-p-x-3"},[a("div",{staticClass:"elite-cb-list"},t._l(t.sp.evolve,(function(e,n){return a("mdui-checkbox",{key:"elite-"+(n+1),model:{value:t.pSetting.evolve[n],callback:function(e){t.$set(t.pSetting.evolve,n,e)},expression:"pSetting.evolve[i]"}},[t._v(t._s(t.$t("common.promotion"))+t._s(n+1))])})),1),t.sp.skills.normal.length>=2?a("div",{staticClass:"skill-normal"},[a("mdui-checkbox",{staticClass:"skill-cb",model:{value:t.pSetting.skills.normal[0],callback:function(e){t.$set(t.pSetting.skills.normal,0,e)},expression:"pSetting.skills.normal[0]"}},[t._v(t._s(t.$t("common.skill")))]),a("div",{staticClass:"inline-block"},[a("mdui-select-num",{attrs:{options:t.$_.range(1,t.sp.skills.normal.length+1)},on:{change:function(e){t.$mutationNextTick(),t.pSetting.skills.normal[0]=!0,t.pSetting.skills.normal[1]>=t.pSetting.skills.normal[2]&&(t.pSetting.skills.normal[2]=t.pSetting.skills.normal[1]+1)}},model:{value:t.pSetting.skills.normal[1],callback:function(e){t.$set(t.pSetting.skills.normal,1,e)},expression:"pSetting.skills.normal[1]"}}),a("i",{staticClass:"mdui-icon material-icons mdui-m-x-2"},[t._v("arrow_forward")]),a("span",{key:"sn-s-"+(t.pSetting.skills.normal[1]+1)},[a("mdui-select-num",{attrs:{options:t.$_.range(t.pSetting.skills.normal[1]+1,t.sp.skills.normal.length+2)},on:{change:function(e){t.pSetting.skills.normal[0]=!0}},model:{value:t.pSetting.skills.normal[2],callback:function(e){t.$set(t.pSetting.skills.normal,2,e)},expression:"pSetting.skills.normal[2]"}})],1)],1)],1):t._e(),t.sp.skills.elite.length>0?t._l(t.sp.skills.elite,(function(e,n){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.isSkillReleased(e),expression:"isSkillReleased(skill)"}],key:"se-"+e.name,staticClass:"skill-elite"},[a("mdui-checkbox",{staticClass:"skill-cb",model:{value:t.pSetting.skills.elite[n][0],callback:function(e){t.$set(t.pSetting.skills.elite[n],0,e)},expression:"pSetting.skills.elite[i][0]"}},[t._v(t._s(t.$t("skill."+e.name)))]),a("div",{staticClass:"inline-block"},[a("mdui-select-num",{attrs:{options:t.$_.range(t.sp.skills.normal.length+1,t.sp.skills.normal.length+e.cost.length+1)},on:{change:function(e){t.$mutationNextTick(),t.pSetting.skills.elite[n][0]=!0,t.pSetting.skills.elite[n][1]>=t.pSetting.skills.elite[n][2]&&(t.pSetting.skills.elite[n][2]=t.pSetting.skills.elite[n][1]+1)}},model:{value:t.pSetting.skills.elite[n][1],callback:function(e){t.$set(t.pSetting.skills.elite[n],1,e)},expression:"pSetting.skills.elite[i][1]"}}),a("i",{staticClass:"mdui-icon material-icons mdui-m-x-2"},[t._v("arrow_forward")]),a("span",{key:"se-s-"+(t.pSetting.skills.elite[n][1]+1)},[a("mdui-select-num",{attrs:{options:t.$_.range(t.pSetting.skills.elite[n][1]+1,t.sp.skills.normal.length+e.cost.length+2)},on:{change:function(e){t.pSetting.skills.elite[n][0]=!0}},model:{value:t.pSetting.skills.elite[n][2],callback:function(e){t.$set(t.pSetting.skills.elite[n],2,e)},expression:"pSetting.skills.elite[i][2]"}})],1)],1)],1)})):t._e()],2)]:t._e(),a("div",{staticClass:"mdui-dialog-actions"},[t.sp?a("a",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.dialogTransparentBtn,expression:"$root.color.dialogTransparentBtn"}],staticClass:"mdui-btn mdui-ripple",staticStyle:{float:"left"},attrs:{href:t.$root.getWikiHref(Object.assign({},{name:t.selectedPresetName},t.characterTable[t.selectedPresetName])),target:"_blank"}},[t._v(t._s(t.$t("common.viewOnWiki")))]):t._e(),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.dialogTransparentBtn,expression:"$root.color.dialogTransparentBtn"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-cancel":""}},[t._v(t._s(t.$t("common.cancel")))]),"add"==this.pSetting.state?a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-pink","mdui-color-indigo-a100 mdui-ripple-black"],expression:"['mdui-color-pink', 'mdui-color-indigo-a100 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-confirm":""},on:{click:t.addPreset}},[t._v(t._s(t.$t("common.add")))]):t._e(),"edit"==this.pSetting.state?a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-teal","mdui-color-teal-200 mdui-ripple-black"],expression:"['mdui-color-teal', 'mdui-color-teal-200 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-confirm":""},on:{click:t.editPreset}},[t._v(t._s(t.$t("common.edit")))]):t._e()])],2),a("mdui-dialog",{ref:"plannerDialog",staticClass:"mdui-typo",attrs:{id:"planner"},on:{closed:function(e){t.plannerRequest=!1}}},[t.plannerRequest&&t.plan?[a("div",{staticClass:"mdui-dialog-title"},[t._v(" "+t._s(t.$t("cultivate.planner.title"))+" "),a("p",{staticClass:"mdui-m-b-0 mdui-m-t-2",staticStyle:{"font-size":"15px"}},[t._v(" "+t._s(t.$t("cultivate.planner.expectedAP"))),a("code",[t._v(t._s(t.plan.cost))]),a("br"),a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-text-color-blue-900","mdui-text-color-blue-200"],expression:"['mdui-text-color-blue-900', 'mdui-text-color-blue-200']"}]},[t._v(t._s(t.$t("common.stage")))]),t._v(" × "),a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkText,expression:"$root.color.pinkText"}]},[t._v(t._s(t.$t("common.times")))]),t._v(" ("),a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-text-color-yellow-900","mdui-text-color-yellow-300"],expression:"['mdui-text-color-yellow-900', 'mdui-text-color-yellow-300']"}]},[t._v(t._s(t.$t("item.AP_GAMEPLAY")))]),t._v(") "),a("span",{staticClass:"mdui-text-color-theme mdui-btn-bold"},[t._v(t._s(t.$t("cultivate.planner.targetMaterial")))]),t._v(" "),a("span",{staticClass:"mdui-text-color-theme-secondary"},[t._v(t._s(t.$t("cultivate.planner.otherMaterial")))])])]),a("div",{staticClass:"mdui-dialog-content"},[t._l(t.plan.stages,(function(e){return a("div",{key:e.code,staticClass:"stage"},[a("h5",{staticClass:"h-ul"},[a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-text-color-blue-900","mdui-text-color-blue-200"],expression:"['mdui-text-color-blue-900', 'mdui-text-color-blue-200']"}]},[t._v(t._s(e.code))]),t._v(" × "),a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkText,expression:"$root.color.pinkText"}]},[t._v(t._s(e.times))]),t._v(" ("),a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-text-color-yellow-900","mdui-text-color-yellow-200"],expression:"['mdui-text-color-yellow-900', 'mdui-text-color-yellow-200']"}]},[t._v(t._s(e.cost))]),t._v(") ")]),a("div",{staticClass:"num-item-list"},[t._l(e.drops,(function(n){return a("arkn-num-item",{directives:[{name:"show",rawName:"v-show",value:t.$root.isImplementedMaterial(n.name),expression:"$root.isImplementedMaterial(drop.name)"}],key:e.code+"-"+n.name,class:{"highlight-bg":t.highlight[n.name]&&t.hlGaps[n.name][0]},attrs:{img:n.name,lable:t.$t("material."+n.name),num:n.num,color:t.gaps[n.name][0]>0?"mdui-text-color-theme mdui-btn-bold":"mdui-text-color-theme-secondary"}})})),a("arkn-num-item",{attrs:{img:"4001",lable:t.$t("item.4001"),num:t.num10k(e.money),color:"mdui-text-color-theme-secondary"}}),e.cardExp>0?a("arkn-num-item",{attrs:{img:"2001",lable:t.$t("common.exp"),num:t.num10k(e.cardExp),color:"mdui-text-color-theme-secondary"}}):t._e(),t._l(4,(function(t){return a("div",{key:t,staticClass:"num-item"})}))],2)])})),t.plan.synthesis.length>0?a("div",{staticClass:"stage"},[a("h5",{staticClass:"h-ul"},[t._v(t._s(t.$t("cultivate.planner.needToBeSynthesized")))]),a("div",{staticClass:"num-item-list"},[t._l(t.plan.synthesis,(function(e){return a("arkn-num-item",{key:"synt-"+e.name,class:{"highlight-bg":t.highlight[e.name]&&t.hlGaps[e.name][0]},attrs:{img:e.name,lable:t.$t("material."+e.name),num:e.num}})})),a("arkn-num-item",{attrs:{img:"4001",lable:t.$t("cultivate.planner.moneyUsed"),num:t.num10k(t.plan.synthesisCost)}}),t._l(4,(function(t){return a("div",{key:t,staticClass:"num-item"})}))],2)]):t._e(),a("div",{staticClass:"stage"},[a("h5",{staticClass:"h-ul"},[t._v(t._s(t.$t("cultivate.planner.obtain")))]),a("div",{staticClass:"num-item-list"},[a("arkn-num-item",{attrs:{img:"4001",lable:t.$t("item.4001"),num:t.num10k(t.plan.money)}}),t.plan.cardExp>0?a("arkn-num-item",{attrs:{img:"2001",lable:t.$t("common.exp"),num:t.num10k(t.plan.cardExp)}}):t._e(),t._l(4,(function(t){return a("div",{key:t,staticClass:"num-item"})}))],2)])],2)]:t._e(),a("div",{staticClass:"mdui-dialog-actions"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.dialogTransparentBtn,expression:"$root.color.dialogTransparentBtn"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-cancel":""}},[t._v(t._s(t.$t("common.close")))])])],2),a("mdui-dialog",{ref:"dropDialog",staticClass:"mdui-typo",attrs:{id:"drop-detail"},on:{closed:function(e){t.dropDetails=!1}}},[t.dropDetails?[a("div",{staticClass:"mdui-dialog-title mdui-p-b-1"},[t._v(" "+t._s(t.$t("material."+t.dropFocus))+" "),a("small",{staticClass:"mdui-p-l-1 mdui-text-color-theme-secondary"},[t._v(t._s(t.inputs[t.dropFocus].need||0)+" | "+t._s(t.inputs[t.dropFocus].have||0)+" | "),a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkText,expression:"$root.color.pinkText"}]},[t._v(t._s(t.gaps[t.dropFocus][0]||0)),t.gaps[t.dropFocus][1]>0?a("small",[t._v(" ("+t._s(t.gaps[t.dropFocus][1])+")")]):t._e()])]),a("span",{staticClass:"mdui-p-l-1"},[t.showSyntBtn(t.materialTable[t.dropFocus])?a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkText,expression:"$root.color.pinkText"}],staticClass:"synt-btn mdui-btn mdui-ripple mdui-btn-dense small-btn mdui-p-x-1 mdui-m-l-05",on:{click:function(e){return t.synthesize(t.dropFocus,1)}}},[t._v(t._s(t.$t("common.synthesize"))+" 1")]):t._e(),t.showSyntBtn(t.materialTable[t.dropFocus])?a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkText,expression:"$root.color.pinkText"}],staticClass:"synt-btn mdui-btn mdui-ripple mdui-btn-dense small-btn mdui-p-x-1 mdui-m-l-05",on:{click:function(e){return t.synthesize(t.dropFocus)}}},[t._v(t._s(t.$t("common.synthesize"))+" all")]):t._e()]),a("div",{staticClass:"mdui-text-color-theme-secondary text-10px"},[t._v(t._s(t.madeofTooltips[t.dropFocus]))]),t.materialsCharMap[t.dropFocus]&&t.materialsCharMap[t.dropFocus].length>0?a("div",{staticClass:"mdui-text-color-theme-secondary text-10px"},[t._v(t._s(t.$t("cultivate.dropDetail.relatedOperators"))+"："),t._l(t.materialsCharMap[t.dropFocus],(function(e){return a("span",{key:"mater_"+e,staticClass:"mdui-m-r-1"},[t._v(t._s(t.$t("character."+e)))])}))],2):t._e(),t.dropDetails.length>0?a("p",{staticClass:"mdui-m-b-0 mdui-m-t-1 text-16px"},[t._v(t._s(t.$t("common.stage"))+" | "+t._s(t.$t("cultivate.dropDetail.expectedAP"))+"⚡")]):t._e()]),a("div",{staticClass:"mdui-dialog-content mdui-p-b-0"},t._l(t.dropDetails,(function(e){return a("div",{key:"dd-"+e.code,staticClass:"stage"},[a("h5",{staticClass:"h-ul"},[t._v(" "+t._s(e.code)+" "),a("code",[t._v(t._s(t.$_.round(t.dropInfo.expectAP[t.dropFocus][e.code],1).toPrecision(3))+"⚡")])]),a("div",{staticClass:"num-item-list"},[t._l(e.drops,(function(n){return a("arkn-num-item",{directives:[{name:"show",rawName:"v-show",value:t.$root.isImplementedMaterial(n[0]),expression:"$root.isImplementedMaterial(drop[0])"}],key:"detail-"+e.code+"-"+n[0],attrs:{img:n[0],lable:t.$t("material."+n[0]),num:t.$_.round(100*n[1],2)+"%",color:t.dropFocus==n[0]?"mdui-text-color-theme mdui-btn-bold":"mdui-text-color-theme-secondary"}})})),t._l(e.dropBrs,(function(n){return a("arkn-num-item",{key:"detail-"+e.code+"-"+n[0],attrs:{img:n[0],lable:t.$t("item."+n[0]),num:t.$_.round(100*n[1],2)+"%",color:"mdui-text-color-theme-secondary"}})})),t._l(4,(function(t){return a("div",{key:t,staticClass:"num-item"})}))],2)])})),0)]:t._e(),a("div",{staticClass:"mdui-dialog-actions"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.dialogTransparentBtn,expression:"$root.color.dialogTransparentBtn"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-cancel":""}},[t._v(t._s(t.$t("common.close")))])])],2),a("mdui-dialog",{ref:"dataSyncDialog",staticClass:"mdui-typo",attrs:{id:"data-sync"}},[a("div",{staticClass:"mdui-dialog-title"},[t._v(t._s(t.$t("cultivate.panel.sync.cloudSync")))]),a("div",{staticClass:"mdui-dialog-content mdui-p-b-0"},[a("h5",{staticClass:"mdui-m-t-0"},[t._v(t._s(t.$t("cultivate.panel.sync.cloudBackup")))]),a("div",{staticClass:"mdui-valign-bottom space-8",class:{processing:t.dataSyncing}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-green-600","mdui-color-green-300 mdui-ripple-black"],expression:"['mdui-color-green-600', 'mdui-color-green-300 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple tag-btn",on:{click:function(e){return t.cloudSaveData()}}},[a("i",{staticClass:"mdui-icon material-icons"},[t._v("cloud_upload")]),t._v(" "+t._s(t.$t("common.backup")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-blue-600","mdui-color-blue-300 mdui-ripple-black"],expression:"['mdui-color-blue-600', 'mdui-color-blue-300 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple tag-btn",attrs:{disabled:!t.syncCode},on:{click:t.cloudRestoreData}},[a("i",{staticClass:"mdui-icon material-icons"},[t._v("cloud_download")]),t._v(" "+t._s(t.$t("common.restore")))]),a("mdui-switch",{attrs:{disabled:!t.syncCode},model:{value:t.setting.autoSyncUpload,callback:function(e){t.$set(t.setting,"autoSyncUpload",e)},expression:"setting.autoSyncUpload"}},[t._v(t._s(t.$t("cultivate.panel.sync.autoSyncUpload")))])],1),a("table",{staticClass:"thin-table mdui-m-b-1",staticStyle:{width:"100%"}},[a("tbody",[a("tr",[a("td",[a("div",{staticClass:"mdui-textfield",attrs:{id:"sync-code"}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.syncCode,expression:"syncCode",modifiers:{trim:!0}}],staticClass:"mdui-textfield-input",attrs:{type:"text",placeholder:t.$t("cultivate.panel.sync.syncCode")},domProps:{value:t.syncCode},on:{input:function(e){e.target.composing||(t.syncCode=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-text-color-pink-accent","mdui-text-color-indigo-a100"],expression:"['mdui-text-color-pink-accent', 'mdui-text-color-indigo-a100']"}],staticClass:"mdui-btn mdui-ripple",staticStyle:{"min-width":"unset"},attrs:{disabled:!t.syncCode},on:{click:t.copySyncCode}},[t._v(t._s(t.$t("common.copy")))])])])])]),a("p",[t._v(t._s(t.$t("cultivate.panel.sync.cloudSyncReadme")))]),a("p",[t._v(t._s(t.$t("cultivate.panel.sync.autoSyncUploadTip")))]),a("p",[t._v("Powered by "),a("a",{attrs:{href:"https://jsonstorage.net/",target:"_blank"}},[t._v("jsonstorage.net")]),t._v(".")]),a("div",{staticClass:"mdui-divider mdui-m-y-2"}),a("h5",{staticClass:"mdui-m-t-0"},[t._v(t._s(t.$t("cultivate.panel.sync.localBackup")))]),a("div",{staticClass:"mdui-m-b-2"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-green-600","mdui-color-green-300"],expression:"['mdui-color-green-600', 'mdui-color-green-300']"}],staticClass:"mdui-btn tag-btn",on:{click:t.saveData}},[a("i",{staticClass:"mdui-icon material-icons"},[t._v("file_upload")]),t._v(" "+t._s(t.$t("common.backup")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-blue-600","mdui-color-blue-300"],expression:"['mdui-color-blue-600', 'mdui-color-blue-300']"}],staticClass:"mdui-btn tag-btn",on:{click:t.restoreData}},[a("i",{staticClass:"mdui-icon material-icons"},[t._v("file_download")]),t._v(" "+t._s(t.$t("common.restore")))])]),a("p",[t._v(t._s(t.$t("cultivate.panel.sync.localBackupReadme")))])]),a("div",{staticClass:"mdui-dialog-actions"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.dialogTransparentBtn,expression:"$root.color.dialogTransparentBtn"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-cancel":""}},[t._v(t._s(t.$t("common.close")))])])]),a("preset-todo-dialog",{ref:"presetTodoDialog",attrs:{constants:{pSettingInit:t.pSettingInit},highlight:t.highlightCost},on:{"update:highlight":function(e){t.highlightCost=e}}}),a("plan-setting-dialog",{ref:"planSettingDialog",on:{"open-stage-select":function(e){return t.$refs.stageSelectDialog.open()}}}),a("stage-select-dialog",{ref:"stageSelectDialog",on:{change:function(e){return t.setting.planStageBlacklist=e},closed:function(e){return t.$refs.planSettingDialog.open()}}}),a("scroll-to-top")],1)},i=[],s=a("1da1"),r=a("53ca"),o=a("b85c"),l=a("3835"),c=a("2909"),u=a("ade3"),m=a("5530"),d=(a("96cf"),a("dca8"),a("99af"),a("d81d"),a("cb29"),a("07ac"),a("b64b"),a("caad"),a("ac1f"),a("d3b7"),a("25f0"),a("4de4"),a("159b"),a("b0c0"),a("a15b"),a("6062"),a("3ca3"),a("ddb0"),a("0481"),a("a630"),a("4fad"),a("841c"),a("fb6a"),a("2ca0"),a("1276"),a("5319"),a("7db0"),a("2532"),a("e557")),p=a("b4ac"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"mdui-typo mdui-m-y-0",staticStyle:{"font-size":"14px"}},[a("li",[t._v(t._s(t.$t("cultivateGuide.texts.0")))]),a("i18n",{attrs:{path:"cultivateGuide.texts.1",tag:"li"}},[a("b",[t._v(t._s(t.$t("cultivateGuide.b",[t.$t("common.lack")])))])]),a("i18n",{attrs:{path:"cultivateGuide.texts.2",tag:"li"}},[a("b",[t._v(t._s(t.$t("cultivateGuide.b",[t.$t("common.synthesize")])))])]),a("li",[t._v(t._s(t.$t("cultivateGuide.texts.3")))]),a("i18n",{attrs:{path:"cultivateGuide.texts.4",tag:"li"}},[a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkText,expression:"$root.color.pinkText"}]},[t._v(t._s(t.$t("cultivateGuide.pinkTextMaterial")))])]),a("i18n",{attrs:{path:"cultivateGuide.texts.5",tag:"li"}},[a("b",[t._v(t._s(t.$t("cultivateGuide.b",[t.$t("common.preset")])))]),a("b",[t._v(t._s(t.$t("cultivateGuide.b",[t.$t("common.need")])))]),a("b",[t._v(t._s(t.$t("cultivateGuide.b",[t.$t("cultivate.panel.button.resetAll")])))]),a("b",[t._v(t._s(t.$t("cultivateGuide.b",[t.$t("cultivate.panel.button.resetNeed").replace(/"/g,"")])))])]),a("i18n",{attrs:{path:"cultivateGuide.texts.6",tag:"li"}},[a("b",[t._v(t._s(t.$t("cultivateGuide.b",[t.$t("cultivate.panel.button.farmCalculation")])))]),a("a",{attrs:{href:"https://penguin-stats.io/",target:"_blank"}},[t._v(t._s(t.$t("cultivateGuide.penguinData")))])])],1)},h=[],f={name:"material-readme"},g=f,b=a("0c7c"),y=Object(b["a"])(g,v,h,!1,null,null,null),_=y.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"dialog",staticClass:"mdui-dialog",attrs:{id:"preset-todo"}},[t.curPresetName?[a("div",{staticClass:"mdui-dialog-title"},[a("avatar",{staticClass:"mdui-card-header-avatar mdui-color-grey-400 no-pe",attrs:{name:t.curPresetName}}),a("div",{staticClass:"mdui-card-header-title"},[t._v(t._s(t.$t("character."+t.curPresetName)))]),a("div",{staticClass:"mdui-text-color-theme-secondary mdui-m-t-1 no-sl"},[a("small",[t._v(t._s(t.$t("cultivate.todos.tips")))])])],1),a("div",{staticClass:"mdui-dialog-content mdui-p-x-0 mdui-p-y-0 mdui-typo"},[a("transition-group",{staticClass:"mdui-list mdui-p-y-0 no-sl",attrs:{tag:"div",name:"todo-list-transition"},on:{"before-leave":t.$root.transitionBeforeLeave,"after-leave":t.$root.transitionAfterLeaveBeforeEnter}},[t._l(t.displayTodoGroup,(function(e){return[t._l(e.list,(function(n,i){return[a("label",{key:"elite-todo-"+n.name,staticClass:"mdui-list-item mdui-p-l-4",class:{"mdui-ripple":0==i},on:{click:function(e){return t.setHighlightFromTodo(n)}}},[a("div",{staticClass:"mdui-checkbox",class:{"opacity-0":e.disabled||i>0}},[0==i?a("input",{attrs:{type:"checkbox",disabled:e.disabled||!t.todoCanFinished(n)},on:{change:function(a){return t.finishTodo(n,e.gi)}}}):t._e(),a("i",{staticClass:"mdui-checkbox-icon"})]),a("div",{staticClass:"mdui-list-item-content mdui-m-l-1"},[a("span",{staticClass:"mdui-m-r-1",class:{"mdui-text-color-blue":0==i,"mdui-text-color-theme-secondary":i>0}},[t._v(t._s(n.name))]),a("div",{staticClass:"preset-todo-materials"},[t._l(t.todoNeeds(n),(function(e,i){return a("small",{key:"elite-need-"+(i+1),staticClass:"mdui-text-color-grey-600"},[t._v(" "+t._s(e.text)+" "+t._s(e.have)),e.synt?a("span",{class:{"mdui-text-color-theme-accent":t.todoEnough(n)&&t.todoNeedSynt(n)}},[t._v("("+t._s(e.synt)+")")]):t._e(),t._v("/"),a("span",{class:{"mdui-text-color-theme-accent mdui-btn-bold":e.have+e.synt<e.need}},[t._v(t._s(e.need))])])})),t.todoEnough(n)?t.todoNeedSynt(n)?a("small",{staticClass:"mdui-text-color-theme-accent"},[t._v(t._s(t.$t("cultivate.todos.needToSynt")))]):t._e():a("small",{staticClass:"mdui-text-color-theme-accent mdui-btn-bold"},[t._v(t._s(t.$t("cultivate.todos.cannotFinished")))])],2)])])]}))]}))],2)],1)]:t._e(),a("div",{staticClass:"mdui-dialog-actions"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.dialogTransparentBtn,expression:"$root.color.dialogTransparentBtn"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-cancel":""}},[t._v(t._s(t.$t("common.close")))])])],2)},$=[],x=(a("a434"),a("c162")),S=a("60bb"),C=a.n(S),w=a("9031"),T={mixins:[x["a"]],props:{constants:{type:Object,default:function(){return{}}},highlight:Object},data:function(){return{pSetting:null,curPreset:null,todoGroupList:null}},created:function(){var t=this;this.$on("closed",(function(){return t.curPreset=null}))},computed:{displayTodoGroup:function(){var t=C.a.transform(this.todoGroupList,(function(t,e,a){var n=e.type,i=e.group,s=C.a.filter(i,(function(t){return!t.finished}));C.a.size(s)&&t.push({type:n,list:s,gi:a,disabled:!1})}),[]);return t.some((function(t){var e=t.type;return"normalSkill"===e}))&&t.filter((function(t){var e=t.type;return"eliteSkill"===e})).forEach((function(t){return t.disabled=!0})),t},curPresetName:function(){var t,e;return null===(t=this.curPreset)||void 0===t||null===(e=t.tag)||void 0===e?void 0:e.name},curElite:function(){return w[this.curPresetName]}},methods:{showTodoPreset:function(t){var e=this;this.curPreset=t;var a=t.tag.setting;this.pSetting=C.a.cloneDeep(a);var n=[{type:"promotion",group:C.a.map(this.curElite.evolve,(function(t,n){return{cost:t,name:"".concat(e.$t("common.promotion")).concat(n+1),index:n,check:a.evolve[n]}}))},{type:"normalSkill",group:C.a.map(C.a.range(a.skills.normal[1],a.skills.normal[2]),(function(t){return{name:"".concat(e.$t("common.skill")," ").concat(t," -> ").concat(t+1),index:t,check:a.skills.normal[0],cost:e.curElite.skills.normal[t-1]}}))}].concat(Object(c["a"])(C.a.map(this.curElite.skills.elite,(function(t,n){var i=t.cost,s=t.name;return{type:"eliteSkill",group:C.a.map(C.a.range(a.skills.elite[n][1],a.skills.elite[n][2]),(function(t){return{name:"".concat(e.$t("skill.".concat(s))," ").concat(t," -> ").concat(t+1),index:t,check:a.skills.elite[n][0],cost:i[t-7]}}))}}))));this.todoGroupList=C.a.map(n,(function(t){var e=t.type,a=t.group;return{type:e,group:C.a.map(C.a.filter(a,(function(t){return t.check})),(function(t){return C.a.merge(t,{finished:!1})}))}})),this.$nextTick((function(){e.open()}))},todoNeeds:function(t){var e=this,a=t.cost,n=this.$parent,i=[];return C.a.forIn(a,(function(t,a){return i.push({text:e.$t("material.".concat(a)),need:1*t,have:n.inputsInt[a].have,synt:Math.min(n.gaps[a][1],Math.max(1*t-n.inputsInt[a].have,0))})})),i},todoCanFinished:function(t){var e=this,a=t.cost;return C.a.every(a,(function(t,a){return e.$parent.inputsInt[a].have>=t}))},todoEnough:function(t){var e=t.cost,a=this.$parent;return C.a.every(e,(function(t,e){return a.inputsInt[e].have+a.gaps[e][1]>=t}))},todoNeedSynt:function(t){var e=this,a=t.cost;return C.a.some(a,(function(t,a){return e.$parent.inputsInt[a].have<t}))},finishTodo:function(t,e){var a=this.$parent;t.finished=!0;var n=function(e,a){var n=t.index+1;n>=e[2]?C.a.range(0,3).forEach((function(t){return e[t]=a[t]})):e[1]=n};0==e?this.pSetting.evolve[t.index]=!1:1==e?n(this.pSetting.skills.normal,this.constants.pSettingInit.skills.normal):n(this.pSetting.skills.elite[e-2],this.constants.pSettingInit.skills.elite[e-2]),C.a.forIn(t.cost,(function(t,e){a.inputs[e].have=(a.inputsInt[e].have-t).toString(),a.inputs[e].need=(a.inputsInt[e].need-t).toString()})),C.a.size(this.displayTodoGroup)?a.selected.presets[this.curPreset.index].setting=C.a.cloneDeep(this.pSetting):(a.selected.presets.splice(this.curPreset.index,1),this.close()),a.usePreset()},setHighlightFromTodo:function(t){var e=this;this.todoCanFinished(t)?C.a.isEqual(this.highlight,t.cost)&&this.$emit("update:highlight",{}):(this.$emit("update:highlight",C.a.clone(t.cost)),this.close(),this.$nextTick((function(){var t,a;return null===(t=e.$$(".material.highlight")[0])||void 0===t||null===(a=t.scrollIntoView)||void 0===a?void 0:a.call(t,{behavior:"smooth",block:"center"})})))}}},O=T,B=Object(b["a"])(O,k,$,!1,null,null,null),I=B.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"dialog",staticClass:"mdui-dialog mdui-typo no-sl",attrs:{id:"planner-setting"}},[a("div",{staticClass:"mdui-dialog-title",staticStyle:{"padding-bottom":"12px"}},[t._v(t._s(t.$t("cultivate.panel.plannerSetting.title")))]),a("div",{staticClass:"mdui-dialog-content mdui-p-b-0"},[a("div",{staticClass:"mdui-p-t-1"},[t._l(t.settingList,(function(e){return a("mdui-switch",{key:e,model:{value:t.$parent.setting[e],callback:function(a){t.$set(t.$parent.setting,e,a)},expression:"$parent.setting[key]"}},[t._v(t._s(t.$t("cultivate.setting."+e)))])})),t.$parent.isPenguinDataSupportedServer?a("mdui-switch",{model:{value:t.$parent.setting.planIncludeEvent,callback:function(e){t.$set(t.$parent.setting,"planIncludeEvent",e)},expression:"$parent.setting.planIncludeEvent"}},[t._v(t._s(t.$t("cultivate.setting.planIncludeEvent")))]):t._e()],2),a("div",{staticClass:"mdui-m-t-2 mdui-valign flex-wrap"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn mdui-m-r-1",on:{click:function(e){t.close(),t.$emit("open-stage-select")}}},[a("i",{staticClass:"mdui-icon material-icons"},[t._v("select_all")]),t._v(" "+t._s(t.$t("cultivate.panel.plannerSetting.stageSelectTitle"))+" ")]),a("div",{staticClass:"mdui-valign",staticStyle:{padding:"6px 0"}},[a("i",{staticClass:"mdui-icon material-icons",staticStyle:{"margin-right":"4px"}},[t._v("do_not_disturb")]),a("span",{staticClass:"no-wrap"},[t._v(t._s(t.$tc("cultivate.panel.plannerSetting.excludedStageNumber",t.$parent.setting.planStageBlacklist.length)))])])])]),a("div",{staticClass:"mdui-dialog-actions"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.dialogTransparentBtn,expression:"$root.color.dialogTransparentBtn"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-cancel":""}},[t._v(t._s(t.$t("common.close")))])])])},N=[],j={mixins:[x["a"]],data:function(){return{settingList:["planCardExpFirst"]}}},P=j,E=Object(b["a"])(P,D,N,!1,null,null,null),z=E.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"dialog",staticClass:"mdui-dialog mdui-typo no-sl",attrs:{id:"stage-select"}},[a("div",{staticClass:"mdui-dialog-title"},[t._v(" "+t._s(t.$t("cultivate.panel.plannerSetting.stageSelectTitle"))+" "),a("div",{staticClass:"select-all"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.redBtn,expression:"$root.color.redBtn"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn",on:{click:function(e){return t.batchSelect(!1)}}},[t._v(t._s(t.$t("common.unselectAll")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn",on:{click:function(e){return t.batchSelect(!0)}}},[t._v(t._s(t.$t("common.selectAll")))])])]),a("div",{staticClass:"mdui-dialog-content mdui-p-b-0"},t._l(t.zone2CodesByServer,(function(e,n){return a("div",{key:n,staticClass:"zone-wrap"},[a("div",{staticClass:"zone-header"},[a("div",{staticClass:"zone-name mdui-valign"},[t._v(t._s(t.$t("zone."+n)))]),a("mdui-checkbox",t._b({staticClass:"zone-checkbox",on:{change:function(e){return t.zoneBatchSelect(n,e)}}},"mdui-checkbox",t.zoneCheckbox[n],!1))],1),t._l(e,(function(e){return a("tag-button",t._b({key:e,model:{value:t.select[e],callback:function(a){t.$set(t.select,e,a)},expression:"select[code]"}},"tag-button",t.color,!1),[t._v(t._s(e))])}))],2)})),0),a("div",{staticClass:"mdui-dialog-actions"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.dialogTransparentBtn,expression:"$root.color.dialogTransparentBtn"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-cancel":""}},[t._v(t._s(t.$t("common.close")))])])])},F=[],A=a("3b93"),M=function(t){var e=t.split("-"),a=Object(l["a"])(e,2),n=a[0],i=void 0===n?"":n,s=a[1],r=void 0===s?"":s,o=parseInt(i)||0,c=i.split(/\d+/)[0];return[c,o,parseInt(r)||0]},L=function(t){return t.sort((function(t,e){var a=C.a.zip(M(t),M(e)).map((function(t){var e=Object(l["a"])(t,2),a=e[0],n=e[1];switch(Object(r["a"])(a)){case"string":return a.length===n.length?n.localeCompare(a):a.length-n.length;case"number":return a-n;default:return 0}}));return a.find((function(t){return 0!==t}))||0}))},G=function(t){return C.a.transform(t,(function(t,e,a){Object.assign(t,C.a.mapValues(e,(function(t){return Object(m["a"])({zoneId:a},t)})))}),{})},V={normal:G(A.normal),event:C.a.mapValues(G(A.event),(function(t){return Object(m["a"])(Object(m["a"])({},t),{},{event:!0})}))},U=Object.assign.apply(Object,[{}].concat(Object(c["a"])(Object.values(V)))),H={mixins:[x["a"]],data:function(){return{color:{selectedColor:["mdui-color-green-300","mdui-color-green-300"],notSelectedColor:["mdui-color-brown-100 mdui-ripple-black","mdui-color-brown-100 mdui-ripple-black"]},select:{}}},watch:{select:{handler:function(t){if("opened"===this.getState()){var e=Object.keys(C.a.omitBy(t,(function(t){return t})));this.$emit("change",e)}},deep:!0}},methods:{open:function(){var t=new Set(this.$parent.setting.planStageBlacklist);this.select=C.a.fromPairs(C.a.flatten(Object.values(this.zone2CodesByServer)).map((function(e){return[e,!t.has(e)]}))),this.dialog.open()},zoneBatchSelect:function(t,e){var a=this;this.zone2CodesByServer[t].forEach((function(t){return a.select[t]=e}))},batchSelect:function(t){this.select=C.a.mapValues(this.select,(function(){return t}))}},computed:{zone2CodesByServer:function(){var t=this,e=C.a.omit(C.a.mapKeys(V.normal,(function(t){var e=t.code;return e})),this.$parent.unopenedStages),a=C.a.pickBy(C.a.mapKeys(V.event,(function(t){var e=t.code;return e})),(function(e){var a=e.zoneId;return a in t.$parent.eventInfo})),n=Object(m["a"])(Object(m["a"])({},a),e);return C.a.mapValues(C.a.groupBy(Object.keys(n),(function(t){return n[t].zoneId})),L)},zoneCheckbox:function(){var t=this;return C.a.mapValues(this.zone2CodesByServer,(function(e){var a=C.a.sumBy(e,(function(e){return t.select[e]?1:0}));return{checked:a===e.length,indeterminate:C.a.inRange(a,1,e.length)}}))}}},W=H,J=(a("8d25"),Object(b["a"])(W,R,F,!1,null,null,null)),q=J.exports,Y=a("cf9e"),K=a("ab3e"),Q=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||"string"!==typeof t)return e;try{return JSON.parse(t)}catch(a){console.error(a)}return e},X=a("f71e"),Z=a("29d9"),tt=a("f52e"),et=a("f43e"),at=a("039e"),nt=a.n(at),it=a("35ae"),st=a.n(it),rt=a("f3d4"),ot=a("de76"),lt=a("072a"),ct=(a("5db7"),a("73d9"),a("8e88")),ut=Date.now(),mt=C.a.mapValues(ct,(function(t){return C.a.pickBy(t,(function(t){var e=t.valid,a=e.startTs,n=e.endTs;return 1e3*a<=ut&&ut<1e3*n}))})),dt=C.a.mapValues(mt,(function(t){var e=Object.keys(t);return new Set(C.a.flatMap(e,(function(t){return Object.keys(A.event[t]||{})})))})),pt=a("60fe"),vt=new Z["a"]("material"),ht=new Z["a"]("penguinData"),ft=4,gt={"-1":"SYNT",0:"ALWAYS",1:"ALMOST",2:"USUAL",3:"OFTEN",4:"SOMETIMES"};Object.freeze(gt);var bt=["2001","2002","2003","2004"],yt=["cost","event","lmd","cardExp"].concat(bt),_t={evolve:[!1,!1],skills:{normal:[!1,1,7],elite:new Array(C.a.max(C.a.map(w,(function(t){return t.skills.elite.length})))).fill([!1,7,10]).map((function(t){return C.a.cloneDeep(t)}))},state:"add"};Object.freeze(_t);var kt=function(t){return t<0?0:t},$t={name:"arkn-material",components:{ScrollToTop:d["a"],CultivateGuide:_,ArknNumItem:p["a"],PresetTodoDialog:I,PlanSettingDialog:z,StageSelectDialog:q},data:function(){var t;return Object(m["a"])(Object(m["a"])({showAll:!1,enumOccPer:gt},ot["a"]),{},{characterTable:lt["a"],elite:w,inputs:{},preset:"",selectedPresetName:"",selectedPreset:!1,pSetting:C.a.cloneDeep(_t),pSettingInit:_t,selected:{rare:[],presets:[]},setting:(t={simpleMode:!1,hideIrrelevant:!1,translucentDisplay:!0,showDropProbability:!1,prioritizeNeedsWhenSynt:!1,planIncludeEvent:!0,planCardExpFirst:!1},Object(u["a"])(t,"syncCodeV".concat(ft),""),Object(u["a"])(t,"autoSyncUpload",!1),Object(u["a"])(t,"planStageBlacklist",[]),Object(u["a"])(t,"simpleModeOrderedByRareFirst",!1),Object(u["a"])(t,"penguinUseCnServer",!1),t),settingList:[["hideIrrelevant","translucentDisplay","showDropProbability","prioritizeNeedsWhenSynt"],["planCardExpFirst"]],color:pt["b"],penguinData:{time:0,data:null},plannerInited:!1,plannerRequest:!1,apbDisabled:!1,dropDetails:!1,dropFocus:"",dropTable:{},dropInfo:{expectAP:{},stageValue:{}},synthesisTable:[],materialConstraints:{},dataSyncing:!1,throttleAutoSyncUpload:null,ignoreInputsChange:!1,highlightCost:{}})},watch:{setting:{handler:function(t){vt.setItem("setting",t)},deep:!0},selected:{handler:function(t){vt.setItem("selected",t)},deep:!0},inputs:{handler:function(t){for(var e=0,a=Object.values(t);e<a.length;e++)for(var n=a[e],i=0,s=Object.keys(n);i<s.length;i++){var r=s[i];if(["need","have"].includes(r)){var o=n[r],l=/[^0-9]/.exec(o);l&&(n[r]=(parseInt(/[0-9]*/.exec(o)[0])||0).toString())}else delete n[r]}vt.setItem("inputs",t),this.setting.autoSyncUpload&&this.syncCode&&this.throttleAutoSyncUpload&&(this.ignoreInputsChange?this.ignoreInputsChange=!1:this.throttleAutoSyncUpload())},deep:!0},"setting.showDropProbability":function(t){t&&this.initPlanner()},"$root.locale":function(){this.updatePreset()},"$root.server":function(){this.updatePreset(),this.plannerInited&&(this.plannerInited=!1,this.initPlanner())}},computed:{syncCode:{get:function(){return this.setting["syncCodeV".concat(ft)]},set:function(t){this.setting["syncCodeV".concat(ft)]=t}},isPenguinDataSupportedServer:function(){return"tw"!==this.$root.server},penguinURL:function(){return"https://penguin-stats.".concat(this.$root.localeCN&&this.setting.penguinUseCnServer?"cn":"io","/PenguinStats/api/v2/result/matrix")},eventInfo:function(){return mt[this.$root.server]},eventStages:function(){return dt[this.$root.server]},isPenguinDataExpired:function(){var t=Date.now(),e=this.penguinData.time||0,a=this.isPenguinDataSupportedServer&&C.a.size(this.eventInfo);if(a&&C.a.some(this.eventInfo,(function(t){var a=t.valid.startTs;return e<1e3*a})))return!0;var n=24*(a?3:7)*60*60*1e3;return e+n<t},penguinDataServer:function(){return this.isPenguinDataSupportedServer?this.$root.server.toUpperCase():"CN"},selectedSynthesisTable:function(){var t=this;return this.synthesisTable.filter((function(e,a){return t.selected.rare[a]}))},unopenedStages:function(){return rt[this.$root.server]},dropTableByServer:function(){return C.a.omit(this.dropTable,this.unopenedStages)},dropTableUsedByPlanner:function(){return C.a.omit(this.isPenguinDataSupportedServer&&this.setting.planIncludeEvent?this.dropTableByServer:C.a.omitBy(this.dropTableByServer,(function(t){return t.event})),this.setting.planStageBlacklist)},dropListByServer:function(){var t=this,e=C.a.mapValues(this.materialTable,(function(e){var a=e.drop;return C.a.omit(a,t.unopenedStages)}));return this.isPenguinDataSupportedServer&&(e=C.a.merge.apply(C.a,[{}].concat(Object(c["a"])(C.a.map(this.eventInfo,(function(t){var e=t.drop;return e}))),[e]))),e},syntExceptAPList:function(){var t=this;return C.a.mapValues(this.dropListByServer,(function(e,a){return t.getSyntExceptAP(a)}))},syntExceptAPListWithoutEvent:function(){var t=this;return C.a.mapValues(this.dropListByServer,(function(e,a){return t.getSyntExceptAP(a,!0)}))},displayDropListByServer:function(){var t=this,e=this.setting.showDropProbability&&this.plannerInited,a=C.a.cloneDeep(this.dropListByServer);return Object.keys(a).forEach((function(n){if(a[n]=C.a.mapValues(a[n],(function(a,i){var s={occPer:a};return e&&(s.expectAP=t.dropInfo.expectAP[n][i]),s})),e){var i=a[n],s=t.syntExceptAPList[n];if(s){var r=s.stages,o=s.ap,c=function(){if(r.length>1)return!0;if(1===r.length){var t=Object(l["a"])(r,1),e=t[0];if(!(e in i))return!0}return!1}();c&&(i.synt={occPer:-1,expectAP:o})}var u=C.a.sortBy(Object.keys(i),(function(t){return i[t].expectAP}));a[n]=C.a.transform(u,(function(t,e){t[e]=i[e]}),{})}})),a},implementedElite:function(){var t=this;return C.a.pickBy(this.elite,(function(e,a){return t.$root.isImplementedChar(a)}))},compressedInputs:{get:function(){return C.a.transform(this.inputsInt,(function(t,e,a){var n=e.need,i=e.have;n+i>0&&(t[a]=[n,i])}),{})},set:function(t){var e=this;this.reset(null,!1,!1),C.a.each(t,(function(t,a){if(Array.isArray(t)){var n=Object(l["a"])(t,2),i=n[0],s=n[1];e.inputs[a].need=i>0?C.a.toString(i):"",e.inputs[a].have=s>0?C.a.toString(s):""}else{var r=t.need,o=t.have;e.inputs[a].need=r,e.inputs[a].have=o}}))}},madeofTooltips:function(){var t=this,e=this.$root.localeIs("us"),a=this.$t("cultivate.dropDetail.synthesizeCosts")+(e?": ":"："),n=e?", ":"、";return C.a.transform(this.materialList,(function(e,i){var s=i.name,r=i.madeof,o=[];C.a.forIn(r,(function(e,a){return o.push("".concat(t.$t("material.".concat(a)),"*").concat(e))})),e[s]=o.length>0?"".concat(a).concat(o.join(n)):t.$t("common.cannotSynthesize")}),{})},synthesizable:function(){var t=this;return C.a.transform(this.materialList,(function(e,a){var n=a.name,i=a.madeof;0!=C.a.size(i)?e[n]=C.a.every(i,(function(e,a){return t.inputsInt[a].have>=e})):e[n]=!1}),{})},allRare:function(){return C.a.sum(this.selected.rare)==this.rareNum},rareNum:function(){return C.a.size(this.materials)},rareArr:function(){return C.a.range(this.rareNum,0)},inputsInt:function(){var t={};for(var e in this.inputs)t[e]=C.a.mapValues(this.inputs[e],(function(t){return parseInt(t)||0}));return t},gaps:function(){var t=this,e=this.inputsInt,a=C.a.mapValues(e,(function(t){return t.need})),n=C.a.mapValues(e,(function(){return 0})),i=C.a.mapValues(e,(function(){return 0}));return C.a.forInRight(this.materials,(function(t){var n,i=Object(o["a"])(t);try{var s=function(){var t=n.value,i=t.name,s=t.madeof;a[i]=kt(a[i]-e[i].have),C.a.forIn(s,(function(t,e){a[e]+=a[i]*t}))};for(i.s();!(n=i.n()).done;)s()}catch(r){i.e(r)}finally{i.f()}})),C.a.forIn(this.materials,(function(s,r){if(t.selected.rare[r-2]){var l,c=Object(o["a"])(s);try{for(c.s();!(l=c.n()).done;){var u=l.value,m=u.name,d=u.madeof;if(0!==C.a.size(d))while(a[m]>0&&C.a.every(d,(function(a,s){var r=e[s].have+n[s]-i[s]-a,o=t.setting.prioritizeNeedsWhenSynt?e[s].need:0;return r-o>=0})))a[m]--,n[m]++,C.a.forEach(d,(function(t,e){return i[e]+=t}))}}catch(p){c.e(p)}finally{c.f()}}})),C.a.mergeWith(a,n,(function(t,e){return[t,e]}))},hlGaps:function(){var t=this,e=this.highlightCost;if(!e)return{};var a=C.a.mapValues(this.inputs,(function(t,a){return e[a]||0})),n=C.a.mapValues(this.inputs,(function(){return 0})),i=C.a.mapValues(this.inputs,(function(){return 0}));return C.a.forInRight(this.materials,(function(e){var n,i=Object(o["a"])(e);try{var s=function(){var e=n.value,i=e.name,s=e.madeof;a[i]=kt((a[i]||0)-t.inputsInt[i].have),C.a.forIn(s,(function(t,e){a[e]+=a[i]*t}))};for(i.s();!(n=i.n()).done;)s()}catch(r){i.e(r)}finally{i.f()}})),C.a.forIn(this.materials,(function(e,s){if(t.selected.rare[s-2]){var r,l=Object(o["a"])(e);try{for(l.s();!(r=l.n()).done;){var c=r.value,u=c.name,m=c.madeof;if(0!==C.a.size(m))while(a[u]>0&&C.a.every(m,(function(e,a){var s=t.inputsInt[a].have+n[a]-i[a]-e,r=t.setting.prioritizeNeedsWhenSynt?t.inputsInt[a].need:0;return s-r>=0})))a[u]--,n[u]++,C.a.forEach(m,(function(t,e){return i[e]+=t}))}}catch(d){l.e(d)}finally{l.f()}}})),C.a.mergeWith(a,n,(function(t,e){return[t,e]}))},autoGaps:function(){var t=this;return C.a.mapValues(this.highlight,(function(e,a){return e?t.hlGaps[a]:t.gaps[a]}))},highlight:function(){var t=this;return C.a.mapValues(this.hlGaps,(function(e,a){return Boolean(t.highlightCost[a]||C.a.sum(e))}))},showMaterials:function(){var t=this;if(!this.setting.hideIrrelevant||!this.hasInput)return C.a.mapValues(this.materials,(function(e,a){return t.selected.rare[a-1]?new Set(e.map((function(t){var e=t.name;return e}))):new Set}));var e={},a=Object.keys(this.materials).sort().reverse();return a.forEach((function(a){if(t.selected.rare[a-1]){var n=t.materials[a].map((function(t){var e=t.name;return e})),i=new Set(n.filter((function(e){return t.inputsInt[e].need>0||C.a.sum(t.gaps[e])>0})));(e[parseInt(a)+1]||new Set).forEach((function(e){C.a.sum(t.gaps[e])&&Object.keys(t.materialTable[e].madeof).forEach((function(t){return i.add(t)}))})),e[a]=i}else e[a]=new Set})),e},showMaterialsFlatten:function(){var t=this;return this.setting.hideIrrelevant&&this.hasInput?new Set(C.a.map(this.showMaterials,(function(t){return Array.from(t)})).flat()):new Set(this.materialOrder.filter((function(e){return t.selected.rare[t.materialTable[e].rare-1]})))},hasInput:function(){var t=this;return!!C.a.sumBy(Object.entries(this.inputsInt),(function(e){var a=Object(l["a"])(e,2),n=a[0],i=a[1].need;return i+C.a.sum(t.gaps[n])}))},presetItems:function(){var t=this,e=this.$root.pureName(this.preset),a=C.a.transform(Object.keys(this.implementedElite),(function(a,n){var i=t.$root.getSearchGroup(t.characterTable[n]).map((function(t){return t.indexOf(e)+1||1/0}));i.some((function(t){return t!==1/0}))&&a.push({search:i,name:n,nl:t.$t("character.".concat(n)).length})}),[]);return a.sort((function(t,e){for(var a=t.search,n=t.nl,i=e.search,s=e.nl,r=0;r<Math.min(a.length,i.length);r++){var o=a[r]-i[r];if(!C.a.isNaN(o))return o||n-s}return 0})),C.a.map(a,(function(e){return{name:e.name,text:t.$t("character.".concat(e.name))}})).slice(0,10)},sp:function(){return!!this.selectedPresetName&&this.elite[this.selectedPresetName]},checkPSetting:function(){var t=this.pSetting,e=[].concat(Object(c["a"])(t.evolve),[t.skills.normal[0]],Object(c["a"])(C.a.map(t.skills.elite,(function(t){return t[0]}))));return C.a.sum(e)>0},plan:function(){var t=this;if(!this.plannerInited)return!1;this.$gtag.event("material_arkplanner_calc",{event_category:"material",event_label:"arkplanner"});var e=[this.dropTableUsedByPlanner].concat(Object(c["a"])(this.selectedSynthesisTable)),a={optimize:"cost",opType:"min",constraints:Object(m["a"])(Object(m["a"])(Object(m["a"])({},this.materialConstraints),C.a.transform(this.inputsInt,(function(t,e,a){e.need>0&&(t[a]={min:e.need})}),{})),{},{lmd:{equal:0},init:{equal:1}}),variables:Object.assign.apply(Object,[{have:C.a.transform(this.inputsInt,(function(t,e,a){e.have>0&&(t[a]=e.have)}),{init:1}),"conv-lmd+":{lmd:7500,cost:30},"conv-lmd":{lmd:-7500,cost:-30}}].concat(Object(c["a"])(e)))};this.setting.planCardExpFirst&&(a.constraints.cardExp={equal:0},a.variables["conv-cardExp"]={cardExp:-7400,lmd:-360,cost:-30});var n=nt.a.Solve(a);if(!n.feasible)return!1;delete n.feasible,delete n.result,delete n.bounded,delete n.have;var i=C.a.mapValues(C.a.mapValues(C.a.omitBy(n,(function(t,e){return e.startsWith("synt-")||e.startsWith("conv-")})),(function(t){return t<1?1:Math.ceil(t)})),(function(e,a){var n=e*t.dropTableByServer[a].cost,i=C.a.mapValues(C.a.omit(t.dropTableByServer[a],yt),(function(t){return C.a.round(e*t,1)})),s=C.a.transform(i,(function(t,e,a){e>0&&t.push({name:a,num:e})}),[]);return s.sort((function(e,a){var n=t.materialTable[a.name].rare-t.materialTable[e.name].rare;return 0==n&&(n=a.num-e.num),n})),{times:e,cost:n,money:12*n,cardExp:C.a.round(t.dropTableByServer[a].cardExp*e),drops:s}})),s=C.a.toPairs(i),r=C.a.transform(i,(function(t,e,a){return t.push(Object(m["a"])({code:a},e))}),[]);r.sort((function(t,e){return e.code.localeCompare(t.code)}));var o=0,l=C.a.transform(C.a.pickBy(n,(function(t,e){return e.startsWith("synt-")})),(function(e,a,n){var i=n.split("synt-")[1];o+=100*(t.materialTable[i].rare-1)*a,e.push({name:i,num:C.a.round(a,1)})}),[]);return l.sort((function(e,a){var n=t.materialTable[a.name].rare-t.materialTable[e.name].rare;return 0==n&&(n=a.num-e.num),n})),o=C.a.round(o),{cost:C.a.sumBy(s,(function(t){return t[1].cost})),stages:r,synthesis:l,synthesisCost:o,money:C.a.sumBy(s,(function(t){return t[1].money}))-o,cardExp:C.a.sumBy(s,(function(t){return t[1].cardExp}))}},syntExceptAPlpVariables:function(){return Object.assign.apply(Object,[{},this.isPenguinDataSupportedServer?this.dropTableByServer:C.a.omitBy(this.dropTableByServer,(function(t){return t.event}))].concat(Object(c["a"])(this.synthesisTable)))},syntExceptAPlpVariablesWithoutEvent:function(){return Object.assign.apply(Object,[{},C.a.omitBy(this.dropTableByServer,(function(t){return t.event}))].concat(Object(c["a"])(this.synthesisTable)))},materialsCharMap:function(){var t=this,e=C.a.map(this.selected.presets,(function(t){var e=t.name,a=t.setting,n=a.evolve,i=a.skills,s=i.elite,r=i.normal;return C.a.merge({name:e,evolve:n,normal:C.a.map(C.a.range(1,7),(function(t){return!!(r[0]&&t>=r[1]&&t<r[2])}))},C.a.transform(s,(function(t,e,a){t["elite_".concat(a)]=C.a.map(C.a.range(7,10),(function(t){return!!(e[0]&&t>=e[1]&&t<e[2])}))}),{}))}));return C.a.transform(e,(function(e,a){var n=t.elite[a.name],i=n.evolve,s=n.skills,r=s.elite,o=s.normal,l=C.a.merge({evolve:i,normal:o},C.a.transform(r,(function(t,e,a){t["elite_".concat(a)]=e.cost}),{}));C.a.forIn(l,(function(t,n){var i=a[n];C.a.each(t,(function(t,n){i[n]&&C.a.forIn(t,(function(t,n){e[n]=C.a.uniq([].concat(Object(c["a"])(e[n]||[]),[a.name]))}))}))}))}),{})},moraleConsumption:function(){var t=this,e={5:8,4:4,3:2,2:1,1:0};return C.a.mapValues(this.materials,(function(a,n){return C.a.sumBy(a,(function(a){var i=a.name;return t.gaps[i][1]*e[n]}))}))},planStageBlacklistTags:function(){return Object(Y["createTags"])(this.setting.planStageBlacklist,this.planStageBlacklist.validation)},dataForSave:{get:function(){return{inputs:this.compressedInputs,presets:this.selected.presets,planStageBlacklist:this.setting.planStageBlacklist}},set:function(t){if("object"===Object(r["a"])(t)){var e=t.inputs,a=t.presets,n=t.planStageBlacklist;e&&(this.compressedInputs=e),a&&(this.selected.presets=a),n&&(this.setting.planStageBlacklist=n)}}}},methods:{num10k:function(t){return t>1e5?this.$root.localeCN?"".concat(C.a.round(t/1e4,2),"w"):"".concat(C.a.round(t/1e3,1),"k"):t},calcMaterialNameTextWidth:function(t){var e=245;return this.synthesizable[t.name]&&this.gaps[t.name][1]>0&&(e-=40),!this.$root.smallScreen&&C.a.size(t.drop)>=4&&(e-=85),e},synthesize:function(t,e){var a=this;if(this.synthesizable[t]){var n=this.materialTable[t].madeof;e=e||Math.min.apply(Math,[C.a.sum(this.autoGaps[t])].concat(Object(c["a"])(C.a.map(n,(function(t,e){return Math.floor(a.inputsInt[e].have/t)}))))),C.a.forIn(n,(function(t,n){return a.inputs[n].have=(a.inputsInt[n].have-t*e).toString()})),this.inputs[t].have=(this.inputsInt[t].have+e).toString()}},reset:function(t){var e=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=n?{inputs:C.a.cloneDeep(this.inputs),presets:C.a.cloneDeep(this.selected.presets)}:null;for(var s in!a||t&&"have"===t||(this.selected.presets=[]),this.ignoreInputsChange=!0,this.inputs){var r=this.inputs[s];if(t)r[t]="";else for(var o in r)r[o]=""}n&&this.$snackbar({message:this.$t("common.reseted"),timeout:0,buttonText:this.$t("common.undo"),noSkip:!0,onButtonClick:function(){e.ignoreInputsChange=!0,e.inputs=i.inputs,e.selected.presets=i.presets}})},addNeed:function(t){var e=this;C.a.each(t,(function(t,a){var n=parseInt(e.inputs[a].need)||0;e.inputs[a].need=(n+t).toString()}))},usePreset:function(t){var e=this;t&&(this.selected.presets=t),this.reset("need",!1,!1);var a,n=Object(o["a"])(this.selected.presets);try{var i=function(){var t=a.value,n=t.name,i=t.setting,s=i.evolve,r=i.skills,o=e.elite[n];if(o.evolve.forEach((function(t,a){s[a]&&e.addNeed(t)})),r.normal[0])for(var l=r.normal[1]-1;l<r.normal[2]-1;l++)e.addNeed(o.skills.normal[l]);o.skills.elite.forEach((function(t,a){var n=r.elite[a];if(n[0])for(var i=o.skills.normal.length+1,s=n[1]-i;s<n[2]-i;s++)e.addNeed(o.skills.elite[a].cost[s])}))};for(n.s();!(a=n.n()).done;)i()}catch(s){n.e(s)}finally{n.f()}vt.setItem("selected",this.selected)},showPreset:function(t){var e,a,n,i=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(this.selectedPreset=t,this.selectedPresetName=t.tag.name,s)?this.pSetting=C.a.cloneDeep(this.selected.presets[t.index].setting):(this.pSetting=C.a.cloneDeep(_t),C.a.each(null!==(e=null===(a=this.elite[this.selectedPresetName])||void 0===a||null===(n=a.skills)||void 0===n?void 0:n.elite)&&void 0!==e?e:[],(function(t,e){var a=t.cost;i.pSetting.skills.elite[e][2]-=3-a.length})));this.$nextTick((function(){i.$refs.presetDialog.open(),i.$mutation()}))},addPreset:function(){this.checkPSetting?(this.selectedPreset.tag.setting=C.a.cloneDeep(this.pSetting),this.selectedPreset.tag.setting.state="edit",this.selectedPreset.addTag()):this.$snackbar(this.$t("cultivate.panel.preset.emptySelect"))},editPreset:function(){this.checkPSetting?(this.selected.presets[this.selectedPreset.index].setting=C.a.cloneDeep(this.pSetting),this.usePreset()):this.$snackbar(this.$t("cultivate.panel.preset.emptySelect"))},updatePreset:function(){var t=this;this.selected.presets.forEach((function(e){e.text=t.$t("character.".concat(e.name));for(var a=e.setting.skills.elite,n=_t.skills.elite,i=n.length-a.length,s=0;s<i;s++)a.push(C.a.cloneDeep(n[0]))}))},copySyncCode:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,X["c"](t.syncCode);case 2:if(!e.sent){e.next=4;break}t.$snackbar(t.$t("common.copied"));case 4:case"end":return e.stop()}}),e)})))()},saveData:function(){var t=this;this.$refs.dataSyncDialog.close();var e=this.dataForSave,a=et["Base64"].encode(JSON.stringify(e));this.$prompt(this.$t("cultivate.panel.sync.saveDataLable"),this.$t("cultivate.panel.sync.saveDataTitle"),Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,X["c"](a);case 2:if(!e.sent){e.next=4;break}t.$snackbar(t.$t("common.copied"));case 4:case"end":return e.stop()}}),e)}))),(function(){}),{history:!1,defaultValue:a,cancelText:this.$t("common.close"),confirmText:this.$t("cultivate.panel.sync.copy2clipboard")})},restoreData:function(){var t=this;this.$refs.dataSyncDialog.close(),this.$prompt(this.$t("cultivate.panel.sync.restoreDataLable"),this.$t("cultivate.panel.sync.restoreDataTitle"),(function(e){if(0!=e.length)try{t.dataForSave=JSON.parse(et["Base64"].decode(e)),t.$snackbar(t.$t("cultivate.snackbar.imported"))}catch(a){t.$snackbar(t.$t("cultivate.snackbar.importFailed"))}}),(function(){}),{history:!1,cancelText:this.$t("common.cancel"),confirmText:this.$t("common.import")})},cloudSaveData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.dataForSave,n={md5:st()(JSON.stringify(a)),data:a};this.dataSyncing=!0,this.syncCode?K["a"].updateJson(this.syncCode,n).then((function(){t.dataSyncing=!1,e||t.$snackbar(t.$t("cultivate.snackbar.backupSucceeded"))})).catch((function(e){t.dataSyncing=!1,t.$snackbar("".concat(t.$t("cultivate.snackbar.backupFailed")," ").concat(e.responseText||e.message||""))})):K["a"].createJson(n).then((function(e){t.dataSyncing=!1,t.syncCode=e,t.$snackbar(t.$t("cultivate.snackbar.backupSucceeded"))})).catch((function(e){t.dataSyncing=!1,t.$snackbar("".concat(t.$t("cultivate.snackbar.backupFailed")," ").concat(e.responseText||e.message||""))})),e||this.$gtag.event("material_cloud_backup",{event_category:"material",event_label:"cloud"})},cloudRestoreData:function(){var t=this;this.syncCode&&(this.dataSyncing=!0,K["a"].getJson(this.syncCode).then((function(e){var a=e.md5,n=e.data;if(!a||!n||a!==st()(JSON.stringify(n)))return t.dataSyncing=!1,void t.$snackbar(t.$t("cultivate.snackbar.restoreFailed"));t.ignoreInputsChange=!0,t.dataForSave=n,t.$snackbar(t.$t("cultivate.snackbar.restoreSucceeded")),t.dataSyncing=!1})).catch((function(e){t.dataSyncing=!1,t.$snackbar("".concat(t.$t("cultivate.snackbar.restoreFailed")," ").concat(e.responseText||e.message||""))})),this.$gtag.event("material_cloud_restore",{event_category:"material",event_label:"cloud"}))},initPenguinData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.penguinData=Object(m["a"])({time:0,data:null},ht.getObject(t.penguinDataServer)),!t.penguinData.data||t.isPenguinDataExpired){e.next=3;break}return e.abrupt("return",!0);case 3:return a=t.$snackbar({message:t.$t("cultivate.snackbar.penguinDataLoading"),timeout:0,closeOnOutsideClick:!1}),e.next=6,K["a"].get("".concat(t.penguinURL,"?server=").concat(t.penguinDataServer),!0).catch((function(){return!1}));case 6:if(n=e.sent,a.close(),!n){e.next=14;break}t.penguinData={data:n,time:Date.now()},ht.setItem(t.penguinDataServer,t.penguinData),t.$gtag.event("material_penguinstats_loaded",{event_category:"material",event_label:"penguinstats"}),e.next=22;break;case 14:if(!t.penguinData.data){e.next=19;break}t.$snackbar(t.$t("cultivate.snackbar.penguinDataFallback")),t.$gtag.event("material_penguinstats_fallback",{event_category:"material",event_label:"penguinstats"}),e.next=22;break;case 19:return t.$snackbar(t.$t("cultivate.snackbar.penguinDataFailed")),t.$gtag.event("material_penguinstats_failed",{event_category:"material",event_label:"penguinstats"}),e.abrupt("return",!1);case 22:return e.abrupt("return",!0);case 23:case"end":return e.stop()}}),e)})))()},initPlanner:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n,i,s,r,l,c,u,d,p,v,h,f,g,b,y,_,k,$,x,S,w,T,O;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.plannerInited){e.next=2;break}return e.abrupt("return");case 2:return t.dropInfo={expectAP:{},stageValue:{}},t.dropTable={},t.materialConstraints={},t.synthesisTable=[],e.next=8,t.initPenguinData();case 8:if(e.sent){e.next=10;break}return e.abrupt("return");case 10:a=t.dropInfo.expectAP,n=Object(o["a"])(t.materialList),e.prev=12,n.s();case 14:if((i=n.n()).done){e.next=26;break}if(s=i.value,r=s.name,l=s.madeof,c=s.rare,a[r]={},t.materialConstraints[r]={min:0},0!=C.a.size(l)){e.next=20;break}return e.abrupt("continue",24);case 20:u={},u[r]=1,t.synthesisTable[c-2]||(t.synthesisTable[c-2]={}),t.synthesisTable[c-2]["synt-".concat(r)]=Object(m["a"])(Object(m["a"])(Object(m["a"])({},u),C.a.mapValues(l,(function(t){return-t}))),{},{lmd:-100*(c-1),cost:0});case 24:e.next=14;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e["catch"](12),n.e(e.t0);case 31:return e.prev=31,n.f(),e.finish(31);case 34:d={2001:200,2002:400,2003:1e3,2004:2e3},p=new Set(Object.keys(t.eventInfo).map((function(t){return t.split("_")[0]}))),v=Object(o["a"])(t.penguinData.data.matrix),e.prev=37,v.s();case 39:if((h=v.n()).done){e.next=56;break}if(f=h.value,g=f.stageId,b=f.itemId,y=f.quantity,_=f.times,0!==y){e.next=43;break}return e.abrupt("continue",54);case 43:if(k=g.replace(/_rep$/,""),k in U&&(b in t.materialConstraints||b in d)){e.next=46;break}return e.abrupt("continue",54);case 46:if($=U[k],x=$.code,S=$.cost,w=$.event,T=void 0!==w&&w,!T){e.next=51;break}if(O=k.split("_")[0],p.has(O)||t.eventStages.has(k)){e.next=51;break}return e.abrupt("continue",54);case 51:x in t.dropTable||(t.dropTable[x]={cost:S,event:T,lmd:12*S,cardExp:0}),t.dropTable[x][b]=y/_,b in d?t.dropTable[x].cardExp+=d[b]*y/_:a[b][x]=S/t.dropTable[x][b];case 54:e.next=39;break;case 56:e.next=61;break;case 58:e.prev=58,e.t1=e["catch"](37),v.e(e.t1);case 61:return e.prev=61,v.f(),e.finish(61);case 64:t.plannerInited=!0;case 65:case"end":return e.stop()}}),e,null,[[12,28,31,34],[37,58,61,64]])})))()},showPlan:function(){var t=this;0===this.plan.cost?this.$alert(this.$t("cultivate.planner.noNeed"),(function(){}),{confirmText:this.$t("common.okay")}):(this.plannerRequest=!0,this.$nextTick((function(){return t.$refs.plannerDialog.open()})))},resetPenguinData:function(){return this.plannerInited=!1,ht.removeItem(this.penguinDataServer),this.initPlanner()},showDropDetail:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,i,s,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.name,a.next=3,e.initPlanner();case 3:e.dropDetails=[],e.dropFocus=n,a.t0=regeneratorRuntime.keys(e.displayDropListByServer[n]);case 6:if((a.t1=a.t0()).done){a.next=18;break}if(i=a.t1.value,"synt"!==i){a.next=10;break}return a.abrupt("continue",6);case 10:if(s=e.dropTable[i],s){a.next=13;break}return a.abrupt("continue",6);case 13:r=C.a.toPairs(C.a.omit(s,yt)).sort((function(t,a){var n=e.materialTable[a[0]].rare-e.materialTable[t[0]].rare;return 0!=n?n:a[1]-t[1]})),o=C.a.toPairs(C.a.pick(s,bt)),e.dropDetails.push({code:i,cost:s.cost,drops:r,dropBrs:o}),a.next=6;break;case 18:e.$nextTick((function(){return e.$refs.dropDialog.open()}));case 19:case"end":return a.stop()}}),a)})))()},showSyntBtn:function(t){return this.synthesizable[t.name]&&C.a.sum(this.autoGaps[t.name])>0},getSyntExceptAP:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.plannerInited)return null;var a={optimize:"cost",opType:"min",constraints:Object(m["a"])(Object(m["a"])({},this.materialConstraints),{},Object(u["a"])({},t,{min:1})),variables:e?this.syntExceptAPlpVariablesWithoutEvent:this.syntExceptAPlpVariables},n=nt.a.Solve(a),i=n.result;return delete n.feasible,delete n.result,delete n.bounded,{stages:Object.keys(n).filter((function(t){return!t.startsWith("synt-")})),ap:i}},onDropListScroll:function(t){var e,a=this,n=t.deltaY,i=t.path,s=null===i||void 0===i||null===(e=i.find)||void 0===e?void 0:e.call(i,(function(t){return a.$$(t).hasClass("drop-list")}));if(s){var r=n>0?1:n<0?-1:0,o=Math[{"-1":"floor",0:"round",1:"ceil"}[r]](s.scrollTop/21)+r;s.scrollTop=21*o}},resetSelectedRare:function(){this.selected.rare=C.a.concat([!1],C.a.fill(Array(this.rareNum-1),!0))},moraleText:function(t){var e=Math.floor(t/24),a=t%24;return e>0?"".concat(e," * 24")+(a?" + ".concat(a):""):a},importItems:function(t){var e=this;C.a.each(t,(function(t,a){var n=e.inputs[a];n&&"number"===typeof t&&(n.have=String(t))}))},handleImgErr:function(t){t.target.src=this.$root.avatar("no_image"),t.target.style.backgroundColor="#bdbdbd",t.target.style.borderRadius="50%"},isSkillReleased:function(t){var e=this,a=t.isPatch,n=t.unlockStages;return!a||n.every((function(t){return!e.unopenedStages.includes(t)}))},getRelatedMaterials:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a[t]=!0,Object.keys(this.materialTable[t].madeof).forEach((function(t){return e.getRelatedMaterials(t,a)})),a}},created:function(){var t=this;this.$root.$on("import-items",this.importItems),this.$root.importItemsListening=!0,window.importItems=this.importItems;var e,a=Object(o["a"])(this.materialOrder);try{for(a.s();!(e=a.n()).done;){var n=e.value;this.$set(this.inputs,n,{need:"",have:""})}}catch(u){a.e(u)}finally{a.f()}for(var i in this.resetSelectedRare(),vt.each((function(e,a){"inputs"===a&&e&&(t.ignoreInputsChange=!0),e&&(t[a]=Object(tt["a"])(t[a],e))})),this.inputs){var s=this.inputs[i];for(var r in s)0==s[r]&&(s[r]="")}this.updatePreset(),this.throttleAutoSyncUpload=C.a.throttle((function(){return t.cloudSaveData(!0)}),5e3,{leading:!1,trailing:!0});var l="depot.imports";if(l in localStorage){this.ignoreInputsChange=!1;var c=Q(localStorage.getItem(l));localStorage.removeItem(l),this.importItems(c)}},mounted:function(){var t=this;this.$root.materialListRendering&&setTimeout((function(){t.$root.materialListRendering=!1}),700)},beforeDestroy:function(){this.$root.importItemsListening=!1,this.$root.$off("import-items")}},xt=$t,St=(a("5537"),Object(b["a"])(xt,n,i,!1,null,null,null));e["default"]=St.exports},5537:function(t,e,a){"use strict";a("c7e6")},"59e7":function(t,e,a){},8293:function(t,e,a){},8679:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("img",{staticClass:"arkn-item mdui-m-r-1 no-sl no-pe",style:{width:t.widthCss,height:t.widthCss},attrs:{src:t.$root.materialImage(t.img),crossorigin:"anonymous"},on:{error:t.handleImgErr}})},i=[],s=(a("a9e3"),{name:"arkn-item",props:{img:String,width:{type:[Number,String],default:48}},computed:{widthCss:function(){return"number"===typeof this.width?"".concat(this.width,"px"):this.width}},methods:{handleImgErr:function(t){t.target.src=this.$root.avatar("no_image"),t.target.style.backgroundColor="#bdbdbd",t.target.style.borderRadius="50%"}}}),r=s,o=(a("2f6b"),a("0c7c")),l=Object(o["a"])(r,n,i,!1,null,"d0f648b6",null);e["a"]=l.exports},"8d25":function(t,e,a){"use strict";a("c5f8")},"91ae":function(t,e,a){"use strict";a("d370")},9541:function(t,e,a){"use strict";a("59e7")},ab3e:function(t,e,a){"use strict";var n=a("1da1"),i=a("5530"),s=(a("96cf"),a("d3b7"),a("1276"),a("ac1f"),a("c579")),r=a.n(s),o=a("60bb"),l=a.n(o),c=a("e444"),u=r.a.JQ.ajax,m="https://jsonstorage.net",d=function(t){return new Promise((function(e,a){u(Object(i["a"])(Object(i["a"])({},t),{},{success:function(t){return e(t)},error:a}))}))};e["a"]={get:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return d({method:"GET",url:t,dataType:e?"json":"text"})},tagOCR:function(t){var e=new FormData;return l.a.each(t,(function(t,a){return e.append(a,t)})),d({method:"POST",url:"/api/tagocr",processData:!1,data:e,dataType:"json",contentType:!1})},ocrspace:function(t,e){var a=new FormData;return l.a.each(t,(function(t,e){return a.append(e,t)})),d({method:"POST",url:"https://api.ocr.space/parse/image",processData:!1,data:a,dataType:"json",contentType:!1,headers:{apikey:e||"helloworld"}})},createJson:function(t){return d({method:"POST",url:"".concat(m,"/api/items"),processData:!1,data:JSON.stringify(t),dataType:"json",contentType:"application/json"}).then((function(t){var e=t.uri;return c["a"].encode(l.a.last(e.split("/")))}))},getJson:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",d({method:"GET",url:"".concat(m,"/api/items/").concat(c["a"].decode(e)),dataType:"json",contentType:"application/json"}));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),updateJson:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",d({method:"PUT",url:"".concat(m,"/api/items/").concat(c["a"].decode(e)),processData:!1,data:JSON.stringify(a),dataType:"json",contentType:"application/json"}));case 1:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}()}},b4ac:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"num-item"},[a("div",{staticClass:"mdui-valign"},[a("arkn-item",{attrs:{img:t.img,width:t.width}}),a("div",{staticClass:"num-item-text with-label",class:t.color},[a("label",{staticClass:"mdui-textfield-label mdui-text-truncate"},[t._v(t._s(t.lable))]),"undefined"!=typeof t.num?a("span",[t._v(t._s(t.num))]):a("span",[t._t("default")],2)])],1)])},i=[],s=(a("ac1f"),a("a9e3"),a("8679")),r={name:"arkn-num-item",components:{ArknItem:s["a"]},computed:{calcT:function(){if(this.t)return this.t;var t=/-(.+)-/.exec(this.img);return!!t&&t[1]}},props:{img:String,lable:String,num:[Number,String],width:Number,color:[String,Boolean]}},o=r,l=(a("9541"),a("0c7c")),c=Object(l["a"])(o,n,i,!1,null,null,null);e["a"]=c.exports},c5f8:function(t,e,a){},c7e6:function(t,e,a){},d370:function(t,e,a){},de76:function(t,e,a){"use strict";a.d(e,"b",(function(){return o}));var n=a("5530"),i=(a("07ac"),a("d81d"),a("b0c0"),a("5db7"),a("73d9"),a("60bb")),s=a.n(i),r=a("9d72"),o=s.a.mapValues(r,(function(t,e){return Object(n["a"])({name:e},t)})),l=s.a.sortBy(Object.values(o),"sortId"),c=s.a.groupBy(l,(function(t){var e=t.rare;return e})),u=l.map((function(t){var e=t.name;return e})),m=s.a.flatMap(Object.values(c).reverse(),(function(t){return t.map((function(t){var e=t.name;return e}))}));e["a"]={materials:c,materialTable:o,materialList:l,materialOrder:u,materialRareFirstOrder:m}},e444:function(t,e,a){"use strict";(function(t){var n=a("2909"),i=(a("4d90"),a("fb6a"),a("5319"),a("ac1f"),a("d3b7"),a("25f0"),a("a15b"),a("d81d"),a("42a7")("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ")),s="hex",r=32,o=[[0,8],[8,4],[12,4],[16,4],[20]],l=function(t,e){return t.slice(-e).padStart(e,"0")},c=function(e){var a=t.from(e.replace(/-/g,""),s);return i.encode(a)},u=function(e){var a=l(t.from(i.decode(e)).toString(s),r);return o.map((function(t){return a.substr.apply(a,Object(n["a"])(t))})).join("-")};e["a"]={encode:c,decode:u}}).call(this,a("b639").Buffer)},e557:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.redBtn,expression:"$root.color.redBtn"}],staticClass:"mdui-fab mdui-fab-fixed mdui-ripple scroll-to-top",class:{"mdui-fab-hide":t.top<1e3},on:{click:t.scrollTop}},[a("i",{staticClass:"mdui-icon material-icons"},[t._v("vertical_align_top")])])},i=[],s=a("60bb"),r=a.n(s),o={name:"scroll-to-top",data:function(){return{top:0,handleScrollDebounce:function(){}}},methods:{scrollTop:function(){window.scroll({top:0,left:0,behavior:"smooth"})},handleScroll:function(){this.top=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}},created:function(){this.handleScrollDebounce=r.a.debounce(this.handleScroll,100)},mounted:function(){window.addEventListener("scroll",this.handleScrollDebounce)},destroyed:function(){window.removeEventListener("scroll",this.handleScrollDebounce)}},l=o,c=(a("91ae"),a("0c7c")),u=Object(c["a"])(l,n,i,!1,null,"151fee56",null);e["a"]=u.exports},f71e:function(t,e,a){"use strict";a.d(e,"c",(function(){return m})),a.d(e,"a",(function(){return d})),a.d(e,"b",(function(){return p}));var n=a("b85c"),i=a("1da1"),s=(a("2ca0"),a("b0c0"),a("4de4"),a("99af"),a("1276"),a("ac1f"),a("96cf"),a("60bb")),r=a.n(s),o=a("0868"),l=a("9225"),c=function(){return Object(o["a"])({message:l["a"].t.apply(l["a"],arguments),timeout:6e3})},u=function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,navigator&&"permissions"in navigator&&"clipboard"in navigator){t.next=4;break}return c("common.clipboard.notSupport",{name:e}),t.abrupt("return",!1);case 4:return t.next=6,navigator.permissions.query({name:e});case 6:if(a=t.sent.state,"granted"===a||"prompt"===a){t.next=10;break}return c("common.clipboard.permissionDenied",{name:e}),t.abrupt("return",!1);case 10:t.next=17;break;case 12:return t.prev=12,t.t0=t["catch"](0),console.error(t.t0),c("common.clipboard.notSupport",{name:e}),t.abrupt("return",!1);case 17:return t.abrupt("return",!0);case 18:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u("clipboard-write");case 2:if(!t.sent){t.next=13;break}return t.prev=3,t.next=6,navigator.clipboard.writeText(e);case 6:t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](3),console.error(t.t0),c("common.clipboard.writeFailed");case 12:return t.abrupt("return",!0);case 13:return t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}(),d=function(t){var e,a,n=t.ctrlKey,i=t.metaKey,s=t.keyCode;return 86===s&&!!(n||null!==(e=navigator)&&void 0!==e&&null!==(a=e.platform)&&void 0!==a&&a.startsWith("Mac")&&i)},p=function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u("clipboard-read");case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,navigator.clipboard.read().catch((function(t){return console.error(t),"DataError"===t.name?c("common.clipboard.readDataError"):c("common.clipboard.readFailed"),[]}));case 6:e=t.sent,a=Object(n["a"])(e),t.prev=8,a.s();case 10:if((i=a.n()).done){t.next=20;break}if(s=i.value,o=s.types.filter((function(t){return t.startsWith("image/")})),!(o.length>0)){t.next=18;break}return t.next=16,s.getType(o[0]);case 16:return l=t.sent,t.abrupt("return",new File([l],"clipboard-".concat(Date.now(),".").concat(r.a.last(o[0].split("/"))),{type:o[0]}));case 18:t.next=10;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](8),a.e(t.t0);case 25:return t.prev=25,a.f(),t.finish(25);case 28:case"end":return t.stop()}}),t,null,[[8,22,25,28]])})));return function(){return t.apply(this,arguments)}}()}}]);